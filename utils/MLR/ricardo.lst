; @ / 0000 
0000 004c; JP MAIN 
; 
; ;; --; Subrotina; de; escrita; 
0002 0000; WRITE K / 0000 ;; começo; da; subrotina; 
0004 d000; COMECO_LOOP_W GD / 000 
0006 e301; PD / 301 ;; ARQUIVO; DE; ESCRITA; 
0008 101e; JZ SAI_LOOP_W ;; sai; se; for; vazio; (; como; no; caso; do; timeout); 
000a 9024; MM TEXTO_ORIGINAL ;; salva; texto; lido; numa; variavel; 
000c 6026; ML K100 ;; pega; o; char; mais; à; esquerda; 
000e 7026; DV K100 
0010 5028; SB TERMINADOR 
0012 101e; JZ SAI_LOOP_W ;; sai; se; o; char; for; um; .; 
0014 8024; LD TEXTO_ORIGINAL ;; pegar; o; char; mais; à; direita; 
0016 7026; DV K100 
0018 5028; SB TERMINADOR 
001a 101e; JZ SAI_LOOP_W ;; sai; se; o; char; for; um; .; 
001c 0004; JP COMECO_LOOP_W 
; 
001e 802a; SAI_LOOP_W LD TEMPO_SLEEP_W 
0020 f071; OS / 71 ;; aguarda; alguns; instantes; 
0022 b002; RS WRITE ;; retorna; subrotina; 
; 
; ;; ----; Variáveis; e; constantes; da; subrotina; 
0024 0000; TEXTO_ORIGINAL K / 0000 ;; guarda; temporariamente; os; 2; chars; lidos; 
0026 0100; K100 K / 0100 ;; constante; 0x0100; 
0028 002e; TERMINADOR K ' . ;; char; que; marca; a; terminação; do; texto; 
002a 01f4; TEMPO_SLEEP_W K = 500 ;; tempo; de; duracao; de; cada; sleep; 
; ;; ----; 
; ;; --; 
; 
; ;; --; Subrotina; de; leitura; 
002c 0000; READ K / 0000 ;; começo; da; subrotina; 
002e 3001; START_LOOP_R LV / 01 
0030 0042; JP SUP 
; 
0032 d300; CONTINUE_LOOP_R GD / 300 ;; ARQUIVO; DE; LEITURA; 
0034 103a; JZ SAI_LOOP_R ;; sai; se; não; houverem; mais; dados; para; serem; lidos; 
0036 e100; PD / 100 
0038 002e; JP START_LOOP_R 
; 
003a 8046; SAI_LOOP_R LD TEMPO_SLEEP_R 
003c f071; OS / 71 ;; aguarda; alguns; instantes; 
003e b02c; RS READ ;; retorna; subrotina; 
; 
; ;; ----; Atualização; do; Arquivo; 
0040 0300; K / 300 ;; ARQUIVO; DE; LEITURA; 
0042 f10d; SUP OS / 10D ;; atualiza; o; arquivo; 
0044 0032; JP CONTINUE_LOOP_R 
; ;; ----; 
; 
; ;; ----; Variáveis; e; constantes; da; subrotina; 
0046 1388; TEMPO_SLEEP_R K = 5000 
; ;; ----; 
; ;; --; 
; 
; 
; ;; --; main; 
0048 573a; CABECALHO_WRITE K ' W: 
004a 523a; CABECALHO_READ K ' R: 
004c 8048; MAIN LD CABECALHO_WRITE 
004e e100; PD / 100 
0050 a002; SC WRITE ;; chama; a; rotina; que; escreve; mensagens; para; a; outra; máquina; 
0052 804a; LD CABECALHO_READ 
0054 e100; PD / 100 
0056 a02c; SC READ ;; chama; a; rotina; que; lê; as; mensagens; novas; da; outra; máquina; 
0058 004c; JP MAIN 
; 
005a c000; FINAL HM / 00 ;; na; prática; esse; programa; nunca; encerra,; 
; ;; mas; poderiamos; colocar; um; número; máximo; 
; ;; de; iterações; nesse; loop; 
; 
